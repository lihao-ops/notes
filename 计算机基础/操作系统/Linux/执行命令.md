Linux使用命令
===

> Linux 命令可以大致划分为以下几大类，每个类别下包含一些常用命令：

## 一、系统监控

- **`top`**：实时显示系统任务和资源使用情况。
- **`htop`**：类似 `top` 的增强版本，支持交互操作。
- **`vmstat`**：查看系统内存、进程、I/O 等信息。
- **`iostat`**：查看系统 I/O 设备的统计信息。
- **`df`**：查看磁盘空间使用情况。
- **`du`**：查看目录或文件的磁盘使用情况。



### top

> 能实时显示系统任务和资源使用情况。

```bash
[root@VM-4-2-centos /]# top
```

```lua
top - 13:14:48 up 671 days, 43 min,  1 user,  load average: 0.01, 0.03, 0.05
Tasks:  93 total,   1 running,  92 sleeping,   0 stopped,   0 zombie
%Cpu(s):  0.7 us,  0.5 sy,  0.0 ni, 98.0 id,  0.8 wa,  0.0 hi,  0.0 si,  0.0 st
KiB Mem :  2046684 total,   247860 free,   549508 used,  1249316 buff/cache
KiB Swap:        0 total,        0 free,        0 used.  1299848 avail Mem 

  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND                                                                                                                   
17823 root      20   0 1034524  49800  17872 S   1.3  2.4   0:18.95 YDService                                                                                                                 
30589 root      20   0 1216692  18540   2560 S   1.0  0.9 779:57.85 barad_agent                                                                                                               
20534 mysql     20   0 1649492 254744   4296 S   0.3 12.4 695:43.26 mysqld                                                                                                                    
21261 root      20   0  162096   2240   1564 R   0.3  0.1   0:00.69 top           
```



#### 1.系统总体信息

```lua
top - 13:14:48 up 671 days, 43 min,  1 user,  load average: 0.01, 0.03, 0.05
```

- `13:14:48`：当前时间。
- `up 671 days, 43 min`：系统已经运行了671天43分钟。
- `1 user`：当前登录的用户数。
- `load average: 0.01, 0.03, 0.05`：过去1分钟、5分钟和15分钟的平均负载。这些值越低，说明系统越轻负载。



#### 2.任务情况

```arduino
Tasks:  93 total,   1 running,  92 sleeping,   0 stopped,   0 zombie
```

- `93 total`：总任务数（包括所有状态）。
- `1 running`：当前正在运行的任务数。
- `92 sleeping`：当前处于睡眠状态的任务数（等待资源或事件）。
- `0 stopped`：被停止的任务数。
- `0 zombie`：僵尸进程的数量（**已经完成但仍占用进程表项的进程**）。



#### 3.CPU使用

```scss
%Cpu(s):  0.7 us,  0.5 sy,  0.0 ni, 98.0 id,  0.8 wa,  0.0 hi,  0.0 si,  0.0 st
```

- `0.7 us`：用户空间占用的CPU百分比。
- `0.5 sy`：内核空间占用的CPU百分比。
- `0.0 ni`：低优先级用户空间占用的CPU百分比。
- `98.0 id`：空闲CPU百分比。
- `0.8 wa`：等待I/O的CPU百分比。
- `0.0 hi`：硬件中断占用的CPU百分比。
- `0.0 si`：软件中断占用的CPU百分比。
- `0.0 st`：虚拟机偷取的CPU百分比（例如，当运行在虚拟机上时，因主机上的其他虚拟机使用CPU而被“偷取”的时间）。



#### 4.内存使用

```bash
KiB Mem :  2046684 total,   247860 free,   549508 used,  1249316 buff/cache
```

- `2046684 total`：总内存（以KiB为单位）。
- `247860 free`：未使用的内存。
- `549508 used`：已使用的内存。
- `1249316 buff/cache`：用于缓存和缓冲的内存（可以被释放的内存）。

##### free -h

> 查看内存情况

```bash
[root@VM-4-2-centos jdk12]# free -h
              total        used        free      shared  buff/cache   available
Mem:           2.0G        549M        811M        612K        637M        1.2G
Swap:            0B          0B          0B
```



#### 5.交换区使用

```c
KiB Swap:        0 total,        0 free,        0 used.  1299848 avail Mem
```

- `0 total`：总交换内存（Swap）大小。
- `0 free`：未使用的交换内存。
- `0 used`：已使用的交换内存。
- `1299848 avail Mem`：可用内存，包括缓存和未使用的内存。







### df

在Linux中，可以使用`df`命令来查看磁盘空间的使用情况：

#### 1.df -h

```bash
df -h
```

```bash
Filesystem     1K-blocks     Used Available Use% Mounted on

devtmpfs         1012336        0   1012336   0% /dev
这是一个虚拟文件系统，用于动态管理设备节点，通常不使用磁盘空间。
tmpfs            1023340       24   1023316   1% /dev/shm
这是一个临时文件系统，通常用于共享内存。
tmpfs            1023340      576   1022764   1% /run
此文件系统用于存储运行时数据，包含一些临时的运行时信息。
tmpfs            1023340        0   1023340   0% /sys/fs/cgroup
用于控制组（cgroups），管理资源分配和限制。
/dev/vda1       51473868 15816888  33459736  33% /
这是系统的根文件系统，存储所有系统文件和用户数据。
tmpfs             204672        0    204672   0% /run/user/0
这是一个用于用户0（root用户）的临时运行文件系统。
```

>解析

```csharp
Filesystem     1K-blocks     Used Available Use% Mounted on
```

- Filesystem：文件系统的名称或路径。
- 1K-blocks：文件系统的总大小(以1K为单位)。
- Used：已使用的空间(以1K为单位)。
- Available：可用空间(以1K为单位)。
- Use%：已使用空间的百分比。
- Mounted on：文件系统挂载的目录。





### 系统信息

#### 1.Linux系统版本

```bash
cat /etc/os-release
```

```bash
NAME="CentOS Linux"
VERSION="7 (Core)"
ID="centos"
ID_LIKE="rhel fedora"
VERSION_ID="7"
PRETTY_NAME="CentOS Linux 7 (Core)"
ANSI_COLOR="0;31"
CPE_NAME="cpe:/o:centos:centos:7"
HOME_URL="https://www.centos.org/"
BUG_REPORT_URL="https://bugs.centos.org/"

CENTOS_MANTISBT_PROJECT="CentOS-7"
CENTOS_MANTISBT_PROJECT_VERSION="7"
REDHAT_SUPPORT_PRODUCT="centos"
REDHAT_SUPPORT_PRODUCT_VERSION="7"
```



#### 2.内核信息

```bash
uname -r
```

```bash
3.10.0-1160.71.1.el7.x86_64
```







## 二、文件和目录管理

- **`ls`**：列出目录内容。
- **`cp`**：复制文件或目录。
- **`mv`**：移动或重命名文件或目录。
- **`rm`**：删除文件或目录。
- **`mkdir`**：创建目录。
- **`rmdir`**：删除空目录。



## 三、权限和所有权管理

- **`chmod`**：更改文件或目录的权限。
- **`chown`**：更改文件或目录的所有者。
- **`chgrp`**：更改文件或目录的组。



## 四、进程管理

- **`ps`**：查看当前运行的进程。
- **`kill`**：终止进程。
- **`pkill`**：按名称终止进程。
- **`bg`**：将进程放入后台运行。
- **`fg`**：将后台进程恢复到前台。



## 五、网络管理

- **`ping`**：测试与远程主机的连通性。
- **`ifconfig`**：查看或配置网络接口。
- **`netstat`**：查看网络连接和统计信息。
- **`curl`**：通过 URL 进行数据传输。
- **`wget`**：从网络下载文件。



## 六、用户和组管理

- **`useradd`**：添加新用户。
- **`userdel`**：删除用户。
- **`usermod`**：修改用户信息。
- **`passwd`**：更改用户密码。



## 七、 系统信息

- **`uname`**：查看系统信息。
- **`hostname`**：查看或设置主机名。
- **`uptime`**：查看系统运行时间和负载。
- **`free`**：查看内存使用情况。



## 八、文件内容查看和处理

- **`cat`**：查看文件内容。
- **`less`**：分页查看文件内容。
- **`grep`**：搜索文件内容。
- **`find`**：查找文件。
- **`awk`**：文本处理工具。



## 九、压缩和归档

- **`tar`**：打包和解压缩文件。
- **`gzip`**：压缩文件。
- **`zip`**：创建 ZIP 文件。



### 十、包管理

- **`apt`**（Debian/Ubuntu）：用于安装、更新和管理软件包。
- **`yum`**（CentOS/RHEL）：用于安装、更新和管理软件包。
- **`dnf`**（Fedora）：新的包管理工具，替代 `yum`。



### 十一、系统备份和恢复

- **`rsync`**：高效的文件同步和备份工具。
- **`scp`**：安全地复制文件到远程主机。

你可以根据自己的需求在笔记中添加更多的命令和说明。如果需要进一步细化某个类别或命令，随时告诉我！