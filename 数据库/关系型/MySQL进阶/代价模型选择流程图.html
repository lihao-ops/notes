<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MySQL Cost Model Analysis Flowchart</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 28px;
        }
        
        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 30px;
            font-size: 14px;
        }
        
        .flowchart {
            position: relative;
            padding: 20px;
        }
        
        .flow-node {
            background: white;
            border: 3px solid #3498db;
            border-radius: 10px;
            padding: 20px;
            margin: 20px auto;
            max-width: 800px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            position: relative;
            transition: all 0.3s ease;
        }
        
        .flow-node:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .flow-node.start {
            border-color: #2ecc71;
            background: linear-gradient(135deg, #f0fff4 0%, #e8f8f5 100%);
        }
        
        .flow-node.decision {
            border-color: #f39c12;
            background: linear-gradient(135deg, #fff9e6 0%, #fef5e7 100%);
            clip-path: polygon(10% 0%, 90% 0%, 100% 50%, 90% 100%, 10% 100%, 0% 50%);
            padding: 30px 40px;
        }
        
        .flow-node.process {
            border-color: #3498db;
            background: linear-gradient(135deg, #ebf5fb 0%, #d6eaf8 100%);
        }
        
        .flow-node.cost-calc {
            border-color: #9b59b6;
            background: linear-gradient(135deg, #f4ecf7 0%, #ebdef0 100%);
        }
        
        .flow-node.result {
            border-color: #e74c3c;
            background: linear-gradient(135deg, #fadbd8 0%, #f5b7b1 100%);
        }
        
        .flow-node.end {
            border-color: #27ae60;
            background: linear-gradient(135deg, #d5f4e6 0%, #abebc6 100%);
            border-width: 4px;
        }
        
        .node-title {
            font-size: 18px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .node-title-en {
            font-size: 14px;
            color: #7f8c8d;
            font-weight: normal;
            font-style: italic;
        }
        
        .node-content {
            color: #34495e;
            line-height: 1.8;
            font-size: 14px;
        }
        
        .node-details {
            background: rgba(255,255,255,0.7);
            padding: 12px;
            border-radius: 8px;
            margin-top: 10px;
            border-left: 4px solid #3498db;
        }
        
        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 12px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            margin: 8px 0;
            overflow-x: auto;
        }
        
        .highlight {
            background: #fff3cd;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: bold;
            color: #856404;
        }
        
        .arrow {
            text-align: center;
            color: #3498db;
            font-size: 30px;
            margin: -10px 0;
            font-weight: bold;
        }
        
        .branch-container {
            display: flex;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .branch {
            flex: 1;
            min-width: 300px;
        }
        
        .metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .metric-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
            text-align: center;
        }
        
        .metric-label {
            font-size: 12px;
            color: #7f8c8d;
            margin-bottom: 5px;
        }
        
        .metric-value {
            font-size: 20px;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 8px;
        }
        
        .badge.success {
            background: #d5f4e6;
            color: #27ae60;
        }
        
        .badge.warning {
            background: #fff3cd;
            color: #f39c12;
        }
        
        .badge.info {
            background: #d6eaf8;
            color: #3498db;
        }
        
        .icon {
            font-size: 24px;
            margin-right: 8px;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 22px;
            }
            
            .flow-node {
                padding: 15px;
            }
            
            .metric-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” MySQLæŸ¥è¯¢ä¼˜åŒ–å™¨ä»£ä»·æ¨¡å‹åˆ†ææµç¨‹</h1>
        <p class="subtitle">MySQL Query Optimizer Cost Model Analysis Flowchart</p>
        
        <div class="flowchart">
            <!-- 1. æŸ¥è¯¢è§£æ -->
            <div class="flow-node start">
                <div class="node-title">
                    <span class="icon">ğŸš€</span>
                    <div>
                        <div>1. æŸ¥è¯¢è§£æé˜¶æ®µ</div>
                        <div class="node-title-en">Query Parsing Phase</div>
                    </div>
                </div>
                <div class="node-content">
                    <strong>æ¥æ”¶SQLæŸ¥è¯¢ï¼š</strong>Receive SQL Query<br>
                    <div class="code-block">
SELECT wind_code, trade_date, latest_price, total_volume<br>
FROM tb_quotation_index_history_trend<br>
WHERE wind_code = '000001.SH'<br>
  AND trade_date BETWEEN '2024-10-01' AND '2025-10-02'
                    </div>
                    <div class="node-details">
                        <strong>ğŸ“Š æŸ¥è¯¢ç±»å‹è¯†åˆ« | Query Type Identification:</strong><br>
                        â€¢ å•è¡¨æŸ¥è¯¢ (Single Table Query) - <span class="highlight">select_id = 1</span><br>
                        â€¢ æ— å­æŸ¥è¯¢/UNION (No Subquery/UNION)<br>
                        â€¢ ç®€å•æŸ¥è¯¢å— (Simple Query Block)
                    </div>
                </div>
            </div>
            
            <div class="arrow">â†“</div>
            
            <!-- 2. ç´¢å¼•è¯†åˆ« -->
            <div class="flow-node process">
                <div class="node-title">
                    <span class="icon">ğŸ”‘</span>
                    <div>
                        <div>2. å¯ç”¨ç´¢å¼•è¯†åˆ«</div>
                        <div class="node-title-en">Available Index Identification</div>
                    </div>
                </div>
                <div class="node-content">
                    <strong>ä¼˜åŒ–å™¨æ‰«æè¡¨ç»“æ„ï¼Œæ‰¾å‡ºæ‰€æœ‰å¯èƒ½ç”¨åˆ°çš„ç´¢å¼•ï¼š</strong><br>
                    <em>Optimizer scans table structure to find all potential indexes</em>
                    
                    <div class="node-details">
                        <strong>ğŸ“Œ Possible Keys å¯é€‰ç´¢å¼•åˆ—è¡¨:</strong><br>
                        <div class="metric-grid">
                            <div class="metric-card">
                                <div class="metric-label">ç´¢å¼•1 | Index 1</div>
                                <div class="metric-value" style="font-size: 14px;">uniq_windcode_tradedate</div>
                                <div style="font-size: 12px; color: #7f8c8d; margin-top: 5px;">å”¯ä¸€è”åˆç´¢å¼•<br>Unique Composite Index</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">ç´¢å¼•2 | Index 2</div>
                                <div class="metric-value" style="font-size: 14px;">idx_windcode_tradedate_price</div>
                                <div style="font-size: 12px; color: #7f8c8d; margin-top: 5px;">è¦†ç›–ç´¢å¼•<br>Covering Index</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="node-details" style="margin-top: 15px;">
                        <strong>ğŸ¯ ç´¢å¼•åŒ¹é…åˆ†æ | Index Matching Analysis:</strong><br>
                        â€¢ WHEREæ¡ä»¶æ¶‰åŠ: <span class="highlight">wind_code</span> (ç­‰å€¼) + <span class="highlight">trade_date</span> (èŒƒå›´)<br>
                        â€¢ ä¸¤ä¸ªç´¢å¼•çš„å‰ç¼€éƒ½å®Œç¾åŒ¹é… (Both indexes match perfectly)<br>
                        â€¢ ç¬¦åˆæœ€å·¦å‰ç¼€åŸåˆ™ (Follows leftmost prefix principle)
                    </div>
                </div>
            </div>
            
            <div class="arrow">â†“</div>
            
            <!-- 3. ä»£ä»·è®¡ç®— -->
            <div class="flow-node decision">
                <div class="node-title">
                    <span class="icon">âš–ï¸</span>
                    <div>
                        <div>3. ä»£ä»·æ¨¡å‹è®¡ç®—ä¸ç´¢å¼•é€‰æ‹©</div>
                        <div class="node-title-en">Cost Model Calculation & Index Selection</div>
                    </div>
                </div>
                <div class="node-content">
                    <strong>ä¸ºæ¯ä¸ªå€™é€‰ç´¢å¼•è®¡ç®—æ‰§è¡Œä»£ä»·ï¼š</strong><br>
                    <em>Calculate execution cost for each candidate index</em>
                    
                    <div class="branch-container">
                        <div class="branch">
                            <div class="node-details">
                                <strong>ğŸ”µ æ–¹æ¡ˆA | Plan A:</strong><br>
                                <strong>uniq_windcode_tradedate</strong>
                                <div style="margin-top: 10px;">
                                    <strong>ä¼˜ç‚¹ Advantages:</strong><br>
                                    â€¢ å”¯ä¸€ç´¢å¼•ï¼Œè¿‡æ»¤æ€§å¥½<br>
                                    <em style="font-size: 12px;">Unique index, good filtering</em><br>
                                    â€¢ ç´¢å¼•åŸºæ•°é«˜<br>
                                    <em style="font-size: 12px;">High index cardinality</em>
                                </div>
                                <div style="margin-top: 10px;">
                                    <strong>ç¼ºç‚¹ Disadvantages:</strong><br>
                                    â€¢ âŒ éœ€è¦å›è¡¨æŸ¥è¯¢<br>
                                    <em style="font-size: 12px;">Requires table lookup</em><br>
                                    â€¢ âŒ latest_price, total_volumeä¸åœ¨ç´¢å¼•ä¸­<br>
                                    <em style="font-size: 12px;">Columns not in index</em><br>
                                    â€¢ âŒ é¢å¤–çš„éšæœºI/Oå¼€é”€<br>
                                    <em style="font-size: 12px;">Extra random I/O cost</em>
                                </div>
                                <div style="margin-top: 10px; padding: 8px; background: #fadbd8; border-radius: 5px;">
                                    <strong>ä¼°ç®—ä»£ä»· Estimated Cost:</strong><br>
                                    è¯»å–ä»£ä»· (Read) + å›è¡¨ä»£ä»· (Lookup)<br>
                                    â‰ˆ <span class="highlight">28000+</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="branch">
                            <div class="node-details">
                                <strong>ğŸŸ¢ æ–¹æ¡ˆB | Plan B:</strong><br>
                                <strong>idx_windcode_tradedate_price</strong>
                                <span class="badge success">âœ“ æœ€ä¼˜ BEST</span>
                                <div style="margin-top: 10px;">
                                    <strong>ä¼˜ç‚¹ Advantages:</strong><br>
                                    â€¢ âœ… è¦†ç›–ç´¢å¼• (Covering Index)<br>
                                    â€¢ âœ… æ‰€æœ‰æŸ¥è¯¢åˆ—éƒ½åœ¨ç´¢å¼•ä¸­<br>
                                    <em style="font-size: 12px;">All query columns included</em><br>
                                    â€¢ âœ… æ— éœ€å›è¡¨ï¼Œçº¯ç´¢å¼•æ‰«æ<br>
                                    <em style="font-size: 12px;">No table lookup needed</em><br>
                                    â€¢ âœ… é¡ºåºI/Oï¼Œæ•ˆç‡é«˜<br>
                                    <em style="font-size: 12px;">Sequential I/O, efficient</em>
                                </div>
                                <div style="margin-top: 10px;">
                                    <strong>ç´¢å¼•åˆ— Index Columns:</strong><br>
                                    <code style="font-size: 12px;">wind_code + trade_date + latest_price + total_volume</code>
                                </div>
                                <div style="margin-top: 10px; padding: 8px; background: #d5f4e6; border-radius: 5px;">
                                    <strong>ä¼°ç®—ä»£ä»· Estimated Cost:</strong><br>
                                    è¯»å–ä»£ä»· (Read): 13013.46<br>
                                    è¯„ä¼°ä»£ä»· (Eval): 11043.40<br>
                                    <strong>æ€»è®¡ Total: <span class="highlight">24056.86</span></strong>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="node-details" style="margin-top: 15px; background: #d5f4e6;">
                        <strong>ğŸ¯ ä¼˜åŒ–å™¨å†³ç­– | Optimizer Decision:</strong><br>
                        é€‰æ‹©æ–¹æ¡ˆB: <span class="highlight">idx_windcode_tradedate_price</span><br>
                        <em>Select Plan B: idx_windcode_tradedate_price</em><br>
                        <strong>åŸå›  Reason:</strong> è¦†ç›–ç´¢å¼•é¿å…å›è¡¨ï¼Œæ€»ä»£ä»·æ›´ä½ (Covering index avoids table lookup, lower total cost)
                    </div>
                </div>
            </div>
            
            <div class="arrow">â†“</div>
            
            <!-- 4. æ‰§è¡Œè®¡åˆ’ç»†èŠ‚ -->
            <div class="flow-node cost-calc">
                <div class="node-title">
                    <span class="icon">ğŸ“Š</span>
                    <div>
                        <div>4. æ‰§è¡Œè®¡åˆ’è¯¦ç»†åˆ†æ</div>
                        <div class="node-title-en">Execution Plan Detailed Analysis</div>
                    </div>
                </div>
                <div class="node-content">
                    <strong>æœ€ç»ˆé€‰å®šçš„æ‰§è¡Œæ–¹æ¡ˆå‚æ•°ï¼š</strong><br>
                    <em>Final execution plan parameters</em>
                    
                    <div class="metric-grid">
                        <div class="metric-card">
                            <div class="metric-label">è®¿é—®ç±»å‹ | Access Type</div>
                            <div class="metric-value">RANGE</div>
                            <div style="font-size: 11px; color: #7f8c8d; margin-top: 5px;">èŒƒå›´æ‰«æ Range Scan</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">ç´¢å¼•é•¿åº¦ | Key Length</div>
                            <div class="metric-value">87 å­—èŠ‚</div>
                            <div style="font-size: 11px; color: #7f8c8d; margin-top: 5px;">2åˆ—ç´¢å¼• 2 Columns</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">æ‰«æè¡Œæ•° | Rows Scanned</div>
                            <div class="metric-value">110,434</div>
                            <div style="font-size: 11px; color: #7f8c8d; margin-top: 5px;">1å¹´åˆ†æ—¶æ•°æ® 1-year data</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">è¿‡æ»¤ç‡ | Filtered</div>
                            <div class="metric-value">100%</div>
                            <div style="font-size: 11px; color: #7f8c8d; margin-top: 5px;">æ— é¢å¤–è¿‡æ»¤ No extra filter</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">è¯»å–æ•°æ®é‡ | Data Read</div>
                            <div class="metric-value">16 MB</div>
                            <div style="font-size: 11px; color: #7f8c8d; margin-top: 5px;">ç´¢å¼•é¡µå¤§å° Index page size</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">ä½¿ç”¨è¦†ç›–ç´¢å¼• | Using Index</div>
                            <div class="metric-value">âœ… TRUE</div>
                            <div style="font-size: 11px; color: #27ae60; margin-top: 5px;">æ— éœ€å›è¡¨ No lookup</div>
                        </div>
                    </div>
                    
                    <div class="node-details" style="margin-top: 15px;">
                        <strong>ğŸ” ç´¢å¼•ä½¿ç”¨è¯¦æƒ… | Index Usage Details:</strong><br>
                        <strong>Used Key Parts å®é™…ä½¿ç”¨çš„ç´¢å¼•åˆ—:</strong><br>
                        1ï¸âƒ£ <span class="highlight">wind_code</span> - ç­‰å€¼åŒ¹é… (Equality Match): <code>'000001.SH'</code><br>
                        2ï¸âƒ£ <span class="highlight">trade_date</span> - èŒƒå›´æ‰«æ (Range Scan): <code>BETWEEN '2024-10-01' AND '2025-10-02'</code><br>
                        <br>
                        <strong>ç¬¦åˆæœ€å·¦å‰ç¼€åŸåˆ™ Follows Leftmost Prefix Rule:</strong><br>
                        â€¢ å…ˆç²¾ç¡®å®šä½wind_code (First locate wind_code)<br>
                        â€¢ å†åœ¨è¯¥æ®µå†…è¿›è¡Œæ—¥æœŸèŒƒå›´æ‰«æ (Then range scan within that segment)
                    </div>
                    
                    <div class="node-details" style="margin-top: 15px;">
                        <strong>ğŸ’° ä»£ä»·æ¨¡å‹è®¡ç®—å…¬å¼ | Cost Model Formula:</strong><br>
                        <div style="background: #2c3e50; padding: 12px; border-radius: 6px; color: #ecf0f1; margin-top: 8px;">
                            <strong>è¯»å–ä»£ä»· Read Cost = 13,013.46</strong><br>
                            <em style="font-size: 12px;">â€¢ I/Oæˆæœ¬: æ‰«æç´¢å¼•èŒƒå›´é¡µé¢çš„ç£ç›˜è¯»å–ä»£ä»·</em><br>
                            <em style="font-size: 12px;">â€¢ I/O cost for reading index range pages</em><br>
                            <br>
                            <strong>è¯„ä¼°ä»£ä»· Eval Cost = 11,043.40</strong><br>
                            <em style="font-size: 12px;">â€¢ CPUæˆæœ¬: å¯¹110434è¡Œè¿›è¡Œæ¡ä»¶åˆ¤æ–­å’Œæ•°æ®å¤„ç†</em><br>
                            <em style="font-size: 12px;">â€¢ CPU cost for condition evaluation on 110,434 rows</em><br>
                            <br>
                            <strong style="color: #2ecc71;">æ€»ä»£ä»· Total Cost = 24,056.86</strong><br>
                            <em style="font-size: 12px;">â€¢ è¯»å–ä»£ä»· + è¯„ä¼°ä»£ä»· (Read + Eval)</em>
                        </div>
                    </div>
                    
                    <div class="node-details" style="margin-top: 15px;">
                        <strong>ğŸ“‹ ä¸‹æ¨æ¡ä»¶ | Pushed-Down Condition:</strong><br>
                        <div class="code-block">
attached_condition:<br>
  (wind_code = '000001.SH') AND<br>
  (trade_date BETWEEN '2024-10-01' AND '2025-10-02')
                        </div>
                        <span class="badge success">âœ“ æˆåŠŸä¸‹æ¨åˆ°å­˜å‚¨å¼•æ“</span><br>
                        <em style="font-size: 12px;">Successfully pushed down to storage engine</em><br>
                        <em style="font-size: 12px;">æ— å‡½æ•°/è¡¨è¾¾å¼å¯¼è‡´ç´¢å¼•å¤±æ•ˆ (No function/expression causing index failure)</em>
                    </div>
                </div>
            </div>
            
            <div class="arrow">â†“</div>
            
            <!-- 5. æ€§èƒ½ä¼˜åŒ–å»ºè®® -->
            <div class="flow-node result">
                <div class="node-title">
                    <span class="icon">ğŸ’¡</span>
                    <div>
                        <div>5. æ€§èƒ½è¯„ä¼°ä¸ä¼˜åŒ–å»ºè®®</div>
                        <div class="node-title-en">Performance Evaluation & Optimization Suggestions</div>
                    </div>
                </div>
                <div class="node-content">
                    <div class="node-details" style="background: #d5f4e6;">
                        <strong>âœ… ä¼˜ç§€è¡¨ç° | Excellent Performance:</strong><br>
                        â€¢ ä½¿ç”¨è¦†ç›–ç´¢å¼•ï¼Œé¿å…å›è¡¨ (Using covering index, no table lookup)<br>
                        â€¢ ç´¢å¼•åˆ—å®Œç¾åŒ¹é…æŸ¥è¯¢æ¡ä»¶ (Index columns perfectly match query conditions)<br>
                        â€¢ æ¡ä»¶æˆåŠŸä¸‹æ¨åˆ°å­˜å‚¨å¼•æ“ (Conditions pushed to storage engine)<br>
                        â€¢ 100%è¿‡æ»¤ç‡ï¼Œæ— é¢å¤–æµªè´¹ (100% filtering, no waste)
                    </div>
                    
                    <div class="node-details" style="margin-top: 15px; background: #fff3cd;">
                        <strong>âš ï¸ æ³¨æ„äº‹é¡¹ | Considerations:</strong><br>
                        â€¢ æ‰«æ11ä¸‡è¡Œæ•°æ®ï¼ŒæŸ¥è¯¢1å¹´åˆ†æ—¶è¡Œæƒ…å±äºæ­£å¸¸èŒƒå›´<br>
                        <em style="font-size: 12px;">110K rows for 1-year tick data is normal range</em><br>
                        â€¢ ä»£ä»·2.4ä¸‡ç›¸å¯¹è¾ƒé«˜ï¼Œä½†å¯¹äºæ—¶é—´åºåˆ—æ•°æ®åˆç†<br>
                        <em style="font-size: 12px;">Cost 24K is relatively high but reasonable for time-series data</em><br>
                        â€¢ å¦‚æœé¢‘ç¹æŸ¥è¯¢ï¼Œå¯è€ƒè™‘ç»“æœç¼“å­˜<br>
                        <em style="font-size: 12px;">Consider result caching for frequent queries</em>
                    </div>
                    
                    <div class="node-details" style="margin-top: 15px; background: #ebf5fb;">
                        <strong>ğŸ¯ è¿›ä¸€æ­¥ä¼˜åŒ–æ–¹å‘ | Further Optimization:</strong><br>
                        1ï¸âƒ£ <strong>æ—¶é—´èŒƒå›´ä¼˜åŒ– Time Range Optimization:</strong><br>
                        â€¢ ç¼©çŸ­æŸ¥è¯¢æ—¶é—´è·¨åº¦å¯æ˜¾è‘—é™ä½æ‰«æè¡Œæ•°<br>
                        <em style="font-size: 12px;">Reducing time range significantly lowers rows scanned</em><br>
                        <br>
                        2ï¸âƒ£ <strong>åˆ†åŒºè¡¨ Partitioning:</strong><br>
                        â€¢ æŒ‰æœˆä»½/å­£åº¦åˆ†åŒºå¯ä»¥å¿«é€Ÿå®šä½æ•°æ®<br>
                        <em style="font-size: 12px;">Monthly/quarterly partitioning for faster data location</em><br>
                        <br>
                        3ï¸âƒ£ <strong>åº”ç”¨å±‚ä¼˜åŒ– Application Layer:</strong><br>
                        â€¢ å®ç°æ™ºèƒ½ç¼“å­˜ç­–ç•¥<br>
                        <em style="font-size: 12px;">Implement smart caching strategy</em><br>
                        â€¢ è€ƒè™‘å¢é‡æ›´æ–°æœºåˆ¶<br>
                        <em style="font-size: 12px;">Consider incremental update mechanism</em>
                    </div>
                </div>
            </div>
            
            <div class="arrow">â†“</div>
            
            <!-- 6. æœ€ç»ˆç»“è®º -->
            <div class="flow-node end">
                <div class="node-title">
                    <span class="icon">ğŸ‰</span>
                    <div>
                        <div>6. ä¼˜åŒ–å™¨å†³ç­–æ€»ç»“</div>
                        <div class="node-title-en">Optimizer Decision Summary</div>
                    </div>
                </div>
                <div class="node-content">
                    <div style="text-align: center; padding: 20px; background: rgba(46, 204, 113, 0.1); border-radius: 10px;">
                        <div style="font-size: 24px; color: #27ae60; margin-bottom: 10px;">
                            <strong>âœ… æœ€ä¼˜æ‰§è¡Œæ–¹æ¡ˆå·²é€‰å®š</strong><br>
                            <em style="font-size: 16px;">Optimal Execution Plan Selected</em>
                        </div>
                        <div style="margin-top: 20px; font-size: 16px;">
                            <strong>é€‰å®šç´¢å¼• Selected Index:</strong><br>
                            <span class="highlight" style="font-size: 18px;">idx_windcode_tradedate_price</span>
                        </div>
                        <div style="margin-top: 15px;">
                            <strong>è®¿é—®æ–¹å¼ Access Method:</strong> RANGE èŒƒå›´æ‰«æ<br>
                            <strong>ä¼˜åŒ–æŠ€æœ¯ Optimization:</strong> Covering Index è¦†ç›–ç´¢å¼•<br>
                            <strong>æ€»ä»£ä»· Total Cost:</strong> 24,056.86<br>
                            <strong>é¢„ä¼°æ‰«æ Estimated Scan:</strong> 110,434 rows / 16MB
                        </div>
                    </div>
                    
                    <div class="node-details" style="margin-top: 20px;">
                        <strong>ğŸ† å…³é”®æˆåŠŸå› ç´  | Key Success Factors:</strong><br>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 10px;">
                            <div style="padding: 15px; background: white; border-radius: 8px; border-left: 4px solid #2ecc71;">
                                <strong>1. ç´¢å¼•è®¾è®¡ä¼˜ç§€</strong><br>
                                <em style="font-size: 12px;">Excellent index design</em><br>
                                è¦†ç›–æ‰€æœ‰æŸ¥è¯¢åˆ—
                            </div>
                            <div style="padding: 15px; background: white; border-radius: 8px; border-left: 4px solid #3498db;">
                                <strong>2. æŸ¥è¯¢æ¡ä»¶ä¼˜åŒ–</strong><br>
                                <em style="font-size: 12px;">Optimized query conditions</em><br>
                                ç¬¦åˆç´¢å¼•å‰ç¼€é¡ºåº
                            </div>
                            <div style="padding: 15px; background: white; border-radius: 8px; border-left: 4px solid #9b59b6;">
                                <strong>3. é¿å…å›è¡¨æ“ä½œ</strong><br>
                                <em style="font-size: 12px;">Avoid table lookup</em><br>
                                æ˜¾è‘—é™ä½I/Oæˆæœ¬
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 10px; text-align: center;">
            <p style="color: #7f8c8d; font-size: 14px;">
                <strong>ğŸ“ è¯´æ˜ Note:</strong> æœ¬æµç¨‹å›¾è¯¦ç»†å±•ç¤ºäº†MySQL